window.VVtable=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=3)}([function(e,n,t){var r=t(6);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(7).default)("6a5292eb",r,!0,{})},function(e,n){e.exports=window.vue},function(e,n,t){"use strict";var r=t(1),i=t.n(r);let a={},s=null;var o=i.a.directive("v-dd",{inserted:(e,n,t)=>{const r=n.value,i=+new Date+"";e.setAttribute("draggable",!0),e.addEventListener("dragstart",e=>{s=i,a[i]={dragData:r,onDropCallback:null},e.dataTransfer.setData("text",i),e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move"},!1),e.addEventListener("dragend",e=>{if(s=null,a[i]){if("function"==typeof a[i].onDropCallback){const e=a[i].onDropCallback;setTimeout(()=>e(),0)}delete a[i]}},!1),e.addEventListener("dragover",e=>{e.preventDefault()},!1),e.addEventListener("drop",e=>{e.stopPropagation(),e.preventDefault();const n=e.dataTransfer.getData("text"),{dragData:r}=a[n];let i;e.target.childNodes&&(i=e.target.childNodes[0].data),t.data.on["dd-drop"](r,i,e)},!1)}});function l(e,n,t,r,i,a,s,o){var l,d="function"==typeof e?e.options:e;if(n&&(d.render=n,d.staticRenderFns=t,d._compiled=!0),r&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=l):i&&(l=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,n){return l.call(n),c(e,n)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:d}}var d=l({directives:{dd:o},props:{sortBy:{required:!1,type:Function},name:{required:!0,type:String}},computed:{canSort(){return"function"==typeof this.sortBy}},data:()=>({startPos:{x:0},canDrag:!1}),methods:{onRelease(e){this.evalAction(e),this.startPos.x=0},evalAction(e,n){Math.abs(e.clientX-this.startPos.x)<10&&this.canSort&&this.sortBy(this.name)}}},(function(){var e=this.$createElement;return(this._self._c||e)("th",{directives:[{name:"dd",rawName:"v-dd",value:{name:this.name},expression:"{ name }"}],staticClass:"cell"},[this._t("default")],2)}),[],!1,null,null,null).exports,c=l({},(function(){var e=this.$createElement;return(this._self._c||e)("tr",{staticClass:"row"},[this._t("default")],2)}),[],!1,null,null,null).exports,u={directives:{hilite:i.a.directive("v-hilite",{inserted:(e,n,t)=>{e["v-hilite"]=e.value},update:(e,n,t)=>{if("none"===e.style.display)return;const r=e["v-hilite"].length;r+1===e.value.length||r-1===e.value.length||(e.value.length-1==0?e["v-hilite"]=e.value:(e.focus(),e.select())),e["v-hilite"]=e.value}}),dd:o},components:{"vv-th":d,"vv-row":c},props:{entries:{type:Array,required:!0},hide:{type:Array,required:!1},icons:{type:Object,required:!1},canEdit:{type:Boolean,required:!1}},data:()=>({activeColumns:[],entriesByRow:[],direction:{},dragging:"",selectedRows:[],inEdit:!1,editValue:""}),computed:{entriesByCol(){return this.activeColumns.reduce((e,n)=>(e[n]=this.entriesByRow.map(e=>e[n]),e),{})}},methods:{setEdit(e,n){this.canEdit&&(this.editValue=n,console.log("vv-table: editing "+e),this.inEdit=e)},onDrop(e,n,t){const r=this.activeColumns.indexOf(e.name),i=this.activeColumns.indexOf(n);this.activeColumns.splice(r,1),this.activeColumns.splice(i,0,e.name)},selectAll(){this.selectedRows.length===this.entriesByRow.length?this.selectedRows=[]:this.selectedRows=this.entriesByRow.reduce((e,n,t)=>(e.push(t),e),[])},addRow(){const e=this.activeColumns.reduce((e,n)=>(e[n]=""+n,e),{});this.entriesByRow.push(e)},sortByDefault(e){const n=this.entriesByRow.sort((n,t)=>n[e]<t[e]?-1:n[e]>t[e]?1:0),t=Object.keys(this.direction)[0]!==e;"▲"===this.direction[e]?(n.reverse(),t&&(this.direction={}),this.direction[e]="▼"):(t&&(this.direction={}),this.direction[e]="▲")},setEntries(){this.entriesByRow=this.entries.map(e=>this.activeColumns.reduce((n,t)=>(n[t]=e[t],n),{}))},setActiveColumns(){this.activeColumns=Object.keys(this.entries[0]),this.hide&&this.hide.forEach(e=>{this.activeColumns.indexOf(e)>=0&&this.activeColumns.splice(this.activeColumns.indexOf(e),1)})}},created(){console.warn("vv-table: using local component"),this.setActiveColumns(),this.setEntries()},watch:{entries(){console.warn("vv-table: updated entries")},hide:function(){this.hide&&this.hide.forEach(e=>{this.activeColumns.indexOf(e)>=0&&this.activeColumns.splice(this.activeColumns.indexOf(e),1)})}}},v=(t(5),l(u,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("table",{staticClass:"vv-table local"},[t("thead",[t("vv-row",[t("th",[t("button",{on:{click:e.selectAll}},[e._v("✔")])]),e._l(e.activeColumns,(function(n,r){return t("th",{directives:[{name:"dd",rawName:"v-dd",value:{name:n},expression:"{ name }"}],key:n+"-"+r,on:{click:function(t){return e.sortByDefault(n)},"dd-drop":e.onDrop}},[t("div",{staticClass:"colname",on:{"dd-drop":e.onDrop}},[e.icons[n]?t("p",[e._v(e._s(e.icons[n]+" ")),t("span",[e._v(" "+e._s(n))]),Object.keys(e.direction).indexOf(n)>=0?t("span",[e._v(" "+e._s(e.direction[n]))]):t("span",{staticClass:"light"},[e._v(" ▼")])]):t("p",[e._v(e._s(n)),Object.keys(e.direction).indexOf(n)>=0?t("span",[e._v(" "+e._s(e.direction[n]))]):t("span",{staticClass:"light"},[e._v(" ▼")])])])])})),t("th",[t("button",{on:{click:e.selectAll}},[e._v("+")])])],2)],1),t("tbody",[e._l(e.entriesByRow,(function(n,r){return t("vv-row",{key:n+"-"+r,class:"row-"+r},[t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:r,checked:Array.isArray(e.selectedRows)?e._i(e.selectedRows,r)>-1:e.selectedRows},on:{change:function(n){var t=e.selectedRows,i=n.target,a=!!i.checked;if(Array.isArray(t)){var s=r,o=e._i(t,s);i.checked?o<0&&(e.selectedRows=t.concat([s])):o>-1&&(e.selectedRows=t.slice(0,o).concat(t.slice(o+1)))}else e.selectedRows=a}}})]),e._l(e.activeColumns,(function(i,a){return t("td",{key:i+"-"+a,staticClass:"cell",class:"row-"+r+"--cell-"+a},[t("div",{directives:[{name:"show",rawName:"v-show",value:i+"-"+n[i]+"-row-"+r!==e.inEdit,expression:"`${n}-${row[n]}-row-${i}` !== inEdit"}],staticClass:"cell--value"},[t("label",{on:{dblclick:function(t){return e.setEdit(i+"-"+n[i]+"-row-"+r,n[i])}}},[e._v(e._s(n[i]))]),""==n[i]&&e.canEdit?t("button",{on:{click:function(t){return e.setEdit(i+"-"+n[i]+"-row-"+r,n[i])}}},[e._v("add")]):e._e()]),t("input",{directives:[{name:"show",rawName:"v-show",value:i+"-"+n[i]+"-row-"+r===e.inEdit&&e.canEdit,expression:"`${n}-${row[n]}-row-${i}` === inEdit && canEdit"},{name:"model",rawName:"v-model",value:e.editValue,expression:"editValue"},{name:"hilite",rawName:"v-hilite"}],staticClass:"cell--edit",domProps:{value:e.editValue},on:{blur:function(t){e.$emit("update",[n,i,e.editValue]),e.inEdit=!1,e.editValue=""},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$emit("update",[n,i,e.editValue]),e.inEdit=!1,e.editValue=""},input:function(n){n.target.composing||(e.editValue=n.target.value)}}})])})),t("td")],2)})),t("tr",[t("td",{staticClass:"new-row",attrs:{colspan:e.activeColumns.length+1}},[t("button",{on:{click:e.addRow}},[e._v("+")])]),t("td",[t("p",[e._v(e._s(e.editValue))])])])],2)])}),[],!1,null,null,null));n.a=v.exports},function(e,n,t){"use strict";t.r(n),function(e){var n=t(2);e.exports={install:function(e,t){e.component("vv-table",n.a)}}}.call(this,t(4)(e))},function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(e,n,t){"use strict";var r=t(0);t.n(r).a},function(e,n){e.exports="\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntable.vv-table {\n    border-spacing: 0;\n    vertical-align: baseline;\n}\n    table.vv-table thead tr th {\n                border-bottom: 1px #cccccc solid;\n                border-right: 1px #dddddd solid;\n}\n    table.vv-table thead tr th:first-child, table.vv-table thead tr th:last-child {\n                    padding: 0 !important;\n                    width: 0 !important;\n}\n    table.vv-table thead tr th:nth-last-child(1) {\n                    border-right: none;\n}\n    table.vv-table thead tr th p {\n                    padding: 0;\n                    margin: 0;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-transform: uppercase;\n}\n    table.vv-table thead tr th button {\n                    border: none;\n                    background: transparent;\n                    width: 2em;\n}\n    table.vv-table tr {\n        background-color: #ededed;\n}\n    table.vv-table tr:nth-child(even) {\n            background-color: #dddddd;\n}\n    table.vv-table tr .cell {\n            padding: 0.125em 0.25em;\n}\n    table.vv-table tr .cell > input {\n                width: 100%;\n                border: none;\n                padding: 0.3em;\n}\n    table.vv-table tr .cell--value > button {\n                border: none;\n                opacity: 0.2;\n}\n    table.vv-table tr .new-row button {\n                border: none;\n                background: transparent;\n                width: 100%;\n}\n    table.vv-table tr > td:first-child {\n            text-align: center;\n}\n    table.vv-table .light {\n        color: #dddddd;\n}\n"},function(e,n,t){"use strict";function r(e,n){for(var t=[],r={},i=0;i<n.length;i++){var a=n[i],s=a[0],o={id:e+":"+i,css:a[1],media:a[2],sourceMap:a[3]};r[s]?r[s].parts.push(o):t.push(r[s]={id:s,parts:[o]})}return t}t.r(n),t.d(n,"default",(function(){return h}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},s=i&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,d=!1,c=function(){},u=null,v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,n,t,i){d=t,u=i||{};var s=r(e,n);return p(s),function(n){for(var t=[],i=0;i<s.length;i++){var o=s[i];(l=a[o.id]).refs--,t.push(l)}n?p(s=r(e,n)):s=[];for(i=0;i<t.length;i++){var l;if(0===(l=t[i]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete a[l.id]}}}}function p(e){for(var n=0;n<e.length;n++){var t=e[n],r=a[t.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](t.parts[i]);for(;i<t.parts.length;i++)r.parts.push(m(t.parts[i]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var s=[];for(i=0;i<t.parts.length;i++)s.push(m(t.parts[i]));a[t.id]={id:t.id,refs:1,parts:s}}}}function f(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function m(e){var n,t,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(d)return c;r.parentNode.removeChild(r)}if(v){var i=l++;r=o||(o=f()),n=y.bind(null,r,i,!1),t=y.bind(null,r,i,!0)}else r=f(),n=w.bind(null,r),t=function(){r.parentNode.removeChild(r)};return n(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;n(e=r)}else t()}}var b,g=(b=[],function(e,n){return b[e]=n,b.filter(Boolean).join("\n")});function y(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(n,i);else{var a=document.createTextNode(i),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(a,s[n]):e.appendChild(a)}}function w(e,n){var t=n.css,r=n.media,i=n.sourceMap;if(r&&e.setAttribute("media",r),u.ssrId&&e.setAttribute("data-vue-ssr-id",n.id),i&&(t+="\n/*# sourceURL="+i.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}]);